<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tutorial - Bisca: Dictator Edition</title>
    <link href="https://fonts.googleapis.com/css2?family=Russo+One&family=Share+Tech+Mono&family=Bangers&display=swap" rel="stylesheet">
     <link rel="icon" type="image/png" href="logo.png">
    <style>
        :root {
            --bg-color: #121212;
            --terminal-green: #0f0;
            --gold: #ffd700;
            --danger: #ff3b3b;
            --accent: #4ca1af;
        }

        body {
            font-family: 'Share Tech Mono', monospace;
            background-color: var(--bg-color);
            background-image: 
                radial-gradient(circle at 50% 50%, #2a3b45 0%, #000000 120%),
                linear-gradient(rgba(0,0,0,0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0,0,0,0.1) 1px, transparent 1px);
            background-size: 100% 100%, 20px 20px, 20px 20px;
            color: #e0e0e0;
            margin: 0; padding: 0;
            height: 100vh;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            overflow: hidden; user-select: none;
        }

        /* CONTAINER PRINCIPALE */
        #tutorial-container {
            width: 90%; max-width: 800px; height: 85%;
            background: rgba(20, 20, 20, 0.95);
            border: 2px solid var(--gold);
            border-radius: 15px;
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.2);
            position: relative;
            display: flex; flex-direction: column;
            overflow: hidden;
        }

        /* HEADER */
        .tut-header {
            padding: 20px; text-align: center;
            border-bottom: 1px solid #444;
            background: linear-gradient(to right, rgba(0,0,0,0), rgba(255,215,0,0.1), rgba(0,0,0,0));
        }
        .tut-title {
            font-family: 'Russo One'; font-size: 2em; color: var(--gold); margin: 0;
            text-transform: uppercase; letter-spacing: 2px;
            text-shadow: 2px 2px 0 #000;
        }

        /* SLIDES CONTENT */
        .slide-content {
            flex-grow: 1; padding: 20px 40px;
            display: none;
            flex-direction: column; align-items: center; justify-content: center;
            text-align: center;
            animation: fadeIn 0.5s ease-out;
        }
        .slide-content.active { display: flex; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        h2 { color: var(--accent); font-family: 'Russo One'; margin-bottom: 20px; font-size: 1.8em; }
        p { font-size: 1.1em; line-height: 1.5; max-width: 650px; color: #ccc; margin: 10px 0; }
        .highlight { color: var(--gold); font-weight: bold; }
        .danger { color: var(--danger); font-weight: bold; }

        /* VISUAL ELEMENTS */
        .suit-rank {
            display: flex; gap: 15px; margin: 20px 0; align-items: center; flex-wrap: wrap; justify-content: center;
        }
        .suit-box {
            display: flex; flex-direction: column; align-items: center; gap: 5px;
        }
        .suit-card-img {
            width: 50px; height: 80px; background-size: cover; border-radius: 4px; border: 1px solid #555;
        }
        .suit-name { font-size: 0.8em; font-weight: bold; }
        .arrow { font-size: 1.5em; color: #666; }

        .card-preview {
            width: 85px; height: 130px; background: #fdfbf7;
            border-radius: 6px; border: 1px solid #999;
            background-size: cover; background-position: center;
            box-shadow: 5px 5px 15px rgba(0,0,0,0.5);
            margin: 10px; position: relative;
            transition: transform 0.3s;
        }
        .card-preview:hover { transform: scale(1.1) translateY(-10px); z-index: 10; }
        .jolly-glow { box-shadow: 0 0 25px var(--gold); border: 2px solid var(--gold); }

        /* FOOTER NAV */
        .tut-footer {
            padding: 20px; border-top: 1px solid #444;
            display: flex; justify-content: space-between; align-items: center;
            background: #111;
        }

        .nav-btn {
            padding: 12px 30px; font-family: 'Russo One'; font-size: 16px;
            cursor: pointer; border: none; border-radius: 4px;
            transition: 0.2s; text-transform: uppercase;
        }
        .btn-prev { background: #333; color: #888; }
        .btn-prev:hover { background: #444; color: #fff; }
        
        .btn-next { background: var(--accent); color: #000; box-shadow: 0 0 10px var(--accent); }
        .btn-next:hover { background: #fff; transform: scale(1.05); }

        .btn-play { background: var(--gold); color: #000; box-shadow: 0 0 15px var(--gold); display: none;}
        .btn-play:hover { background: #fff; transform: scale(1.1); }

        /* DOTS INDICATORS */
        .dots { display: flex; gap: 8px; }
        .dot { width: 10px; height: 10px; background: #333; border-radius: 50%; }
        .dot.active { background: var(--gold); box-shadow: 0 0 5px var(--gold); }

    </style>
</head>
<body>

    <div id="tutorial-container">
        <div class="tut-header">
            <div class="tut-title">MANUALE DEL DITTATORE</div>
        </div>

        <div class="slide-content active" id="slide-0">
            <h2>BENVENUTO, GENERALE</h2>
            <p>La tua missione √® sopravvivere in un tavolo pieno di dittatori paranoici e megalomani.</p>
            <p>Non vince chi ha le carte migliori, ma chi sa <span class="highlight">PREVEDERE IL FUTURO</span>.</p>
            <br>
            <p style="font-size: 0.9em; color: #888;">(Premi AVANTI per iniziare l'addestramento)</p>
        </div>

        <div class="slide-content" id="slide-1">
            <h2>LA LEGGE DEL PI√ô FORTE</h2>
            <p>In questo gioco vige una gerarchia assoluta tra i semi. Un seme superiore batte <strong>sempre</strong> uno inferiore, indipendentemente dal valore.</p>
            
            <div class="suit-rank">
                <div class="suit-box">
                    <div class="suit-card-img" style="background-image: url('img/denari1.png');"></div>
                    <div class="suit-name" style="color:gold;">DENARI</div>
                </div>
                <div class="arrow">></div>
                <div class="suit-box">
                    <div class="suit-card-img" style="background-image: url('img/coppe1.png');"></div>
                    <div class="suit-name" style="color:#ff6666;">COPPE</div>
                </div>
                <div class="arrow">></div>
                <div class="suit-box">
                    <div class="suit-card-img" style="background-image: url('img/spade1.png');"></div>
                    <div class="suit-name" style="color:cyan;">SPADE</div>
                </div>
                <div class="arrow">></div>
                <div class="suit-box">
                    <div class="suit-card-img" style="background-image: url('img/bastoni1.png');"></div>
                    <div class="suit-name" style="color:lightgreen;">BASTONI</div>
                </div>
            </div>
            
            <p style="font-size:0.9em;">Esempio: Un <span class="highlight">2 di Denari</span> straccia un <span class="highlight">Re di Bastoni</span>.</p>
        </div>

        <div class="slide-content" id="slide-2">
            <h2>VALORE DELLE CARTE</h2>
            <p>Se il seme √® lo stesso, vince la carta con il valore pi√π alto.</p>
            <div style="display:flex; align-items:center; gap:10px; margin: 20px 0;">
                <div style="text-align:center;">
                    <div class="card-preview" style="background-image: url('img/denari10.png');"></div>
                    <small>RE (10)</small>
                </div>
                <div class="arrow">></div>
                <div style="text-align:center;">
                    <div class="card-preview" style="background-image: url('img/denari9.png'); height:110px; width:70px;"></div>
                    <small>CAV. (9)</small>
                </div>
                <div class="arrow">></div>
                <div style="text-align:center;">
                    <div class="card-preview" style="background-image: url('img/denari8.png'); height:100px; width:65px;"></div>
                    <small>FANTE (8)</small>
                </div>
                <div class="arrow">></div>
                <div style="text-align:center;">
                    <div class="card-preview" style="background-image: url('img/denari1.png'); height:90px; width:60px;"></div>
                    <small>ASSO (1)</small>
                </div>
            </div>
            <p><span class="danger">ATTENZIONE:</span> L'Asso vale 1 (√® la carta pi√π bassa), tranne in un caso speciale...</p>
        </div>

        <div class="slide-content" id="slide-3">
            <h2>L'ARMA SEGRETA</h2>
            <div class="card-preview jolly-glow" style="margin: 0 auto 20px auto; background-image: url('img/denari1.png'); width: 100px; height: 155px;"></div>
            <p>L'<span class="highlight">ASSO DI DENARI</span> √® il JOLLY.</p>
            <p>Quando lo giochi, decidi il suo destino:</p>
            <ul style="text-align:left; display:inline-block; color:#ccc;">
                <li><strong style="color:var(--gold)">MAX:</strong> Diventa la carta pi√π potente (vince tutto).</li>
                <li><strong style="color:var(--accent)">MIN:</strong> Diventa la carta pi√π debole (perde apposta).</li>
            </ul>
        </div>

        <div class="slide-content" id="slide-4">
            <h2>LA SCOMMESSA (BID)</h2>
            <p>All'inizio di ogni round, devi dichiarare <span class="highlight">ESATTAMENTE</span> quante mani vincerai.</p>
            <div style="display:flex; justify-content:center; gap:20px; margin:20px 0;">
                <div style="background:#111; padding:15px; border:1px solid var(--terminal-green); border-radius:8px;">
                    <div style="color:var(--terminal-green); font-weight:bold;">PREVISIONE CORRETTA</div>
                    <div style="font-size:0.8em; margin-top:5px;">Dici 1 ‚Üí Prendi 1</div>
                    <div style="font-size:2em;">üëç</div>
                </div>
                <div style="background:#111; padding:15px; border:1px solid var(--danger); border-radius:8px;">
                    <div style="color:var(--danger); font-weight:bold;">ERRORE</div>
                    <div style="font-size:0.8em; margin-top:5px;">Dici 1 ‚Üí Prendi 3</div>
                    <div style="font-size:2em;">üíÄ -2 Vite</div>
                </div>
            </div>
            <p>L'errore si paga con la vita. Differenza di 2 = Perdi 2 Cuori.</p>
        </div>

        <div class="slide-content" id="slide-5">
            <h2>REGOLE DITTATORIALI</h2>
            <p><strong class="highlight">REGOLA DELL'ULTIMO:</strong> L'ultimo giocatore a parlare (il Mazziere) non pu√≤ chiamare un numero che faccia tornare i conti esatti. Qualcuno deve per forza sbagliare.</p>
            <hr style="width:50%; border-color:#444; margin:15px 0;">
            <p><strong class="highlight">INDIANA (1 Carta):</strong> Nel round da 1 sola carta, tu vedi le carte di tutti gli altri sulla loro fronte, ma <span class="danger">NON VEDI LA TUA</span>.</p>
        </div>

        <div class="tut-footer">
            <button class="nav-btn btn-prev" id="btn-prev" onclick="changeSlide(-1)">INDIETRO</button>
            <div class="dots" id="dots-container">
                </div>
            <button class="nav-btn btn-next" id="btn-next" onclick="changeSlide(1)">AVANTI</button>
            <button class="nav-btn btn-play" id="btn-play" onclick="window.location.href='index.html'">GIOCA ORA</button>
        </div>
    </div>

    <script>
        let currentSlide = 0;
        const totalSlides = 6;

        function init() {
            const dotsContainer = document.getElementById('dots-container');
            dotsContainer.innerHTML = ""; // Pulisce eventuali duplicati
            for(let i=0; i<totalSlides; i++) {
                let dot = document.createElement('div');
                dot.className = 'dot' + (i===0 ? ' active' : '');
                dotsContainer.appendChild(dot);
            }
            updateButtons();
        }

        function changeSlide(dir) {
            // --- FIX DI SICUREZZA ---
            // Calcola dove andremmo
            let nextIndex = currentSlide + dir;

            // Se stiamo provando ad andare prima della 0 o dopo l'ultima, BLOCCA TUTTO.
            if (nextIndex < 0 || nextIndex >= totalSlides) return;
            // ------------------------

            // Nascondi la slide corrente
            document.getElementById(`slide-${currentSlide}`).classList.remove('active');
            let dots = document.querySelectorAll('.dot');
            if(dots[currentSlide]) dots[currentSlide].classList.remove('active');

            // Aggiorna l'indice
            currentSlide = nextIndex;

            // Mostra la nuova slide
            document.getElementById(`slide-${currentSlide}`).classList.add('active');
            if(dots[currentSlide]) dots[currentSlide].classList.add('active');

            updateButtons();
        }

        function updateButtons() {
            const btnPrev = document.getElementById('btn-prev');
            const btnNext = document.getElementById('btn-next');
            const btnPlay = document.getElementById('btn-play');

            // Nasconde fisicamente il bottone se siamo alla slide 0
            if (currentSlide === 0) {
                btnPrev.style.visibility = 'hidden';
                btnPrev.style.opacity = '0'; // Aggiunge trasparenza per sicurezza
            } else {
                btnPrev.style.visibility = 'visible';
                btnPrev.style.opacity = '1';
            }
            
            // Gestione fine tutorial
            if (currentSlide === totalSlides - 1) {
                btnNext.style.display = 'none';
                btnPlay.style.display = 'block';
            } else {
                btnNext.style.display = 'block';
                btnPlay.style.display = 'none';
            }
        }

        // Avvia
        init();
    </script>
</body>
</html>
